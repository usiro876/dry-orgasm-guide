<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p>ガイド購入者向けページです。パスワードを入力してください。</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="パスワード"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            ログイン状態を保持（30日間）
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="認証" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "パスワードが違います",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"c8b27fa6161bde44e6dd8557dd4a4fe9fdacf0b725eae088cb671eb6848f1eeea19c95d6efa2e11eb44bf8211f350fd5ca8213a8f36d367c43e422625007292def5726b5d3742b376cfdab2dd6b3ffbc9e60bdd908ac00bde67ec934489370b1a9e68fdc3098e4fae196cc4e11f0a8407349ab50010b6df81fce30768abeccee52ad9f4883426a53f8f95d9bfe20287cad0b74643a6f51ad2b51ad3478cb1510c76139028ff42c248b8192ec48147ff8f20d3138603a0a27a1023892e8aa895887a16bff69bb340287aae38977dde5fa12c11805ffea7ec437f884cc5fffd172d7a812ad7cd344a7c7055350a1708e593afcdb3b82e45511e6fe0a53f97e18851d2e8912ada093afe5d037caa9b5f91cab4ced78e9d1342cb8cdd73c541038fcda5829a253739285d66377b67f217e4f00527e8753ac62eb4dea8a2a6860f5b9665bcbd7d7f101dd5eb97e49e97b7f9ff2b10bd8baa5a906ee3c5b5c16990f6355b2d3947b3adf56790c3df3b4e3b77f4c322316a71fc894dfbda500b5a35c59b9250b5513971dc399e6f885c7581ef2f6e0d3cf05ea0305235bd21a632186635d894e0ae848800382a13cd4aa6fd7d7e6b289017117f789ef6b1dc6137cf4d80344b19eb3d40e232967b6dc3f51032c70fbca21242d0d23ac2eff7f8a218b815414908661ec7486c2154313593c74bae394cdef891d6ebe4db5dc045be83f718c9531346af50d12b2acf8ee3a6f3cce17df78445c291c6197d6b205eb144e9b2d461165623a582718a225a9d67a4edceb547fd087903436ec9ef504cf8997dbbc9310815dc4e2e542bf04b36244abfc465c9b230e9840b3454050600ebbd3c872361c5a4c4c296158fe135f38ee9417d2fdda2f9cb56f03cff620ab034e4c8da430cece5edf0e674a1e4600caf1389298ba0bfaf5bec1d1c9e1455f214b25c07e5d644cde219d7c372094f4ad92be8fb1278150ab089fec25f30127fc1639465b778815857ffe186185276df8a1b5d504e6973423bddd2147cb77dc6fd1e5059d36b7ddba0fccb8f8295a55da45b6089c4696eb30ccfd1e61ac532f7c3440d08c0d8c754d7ab27aadf657867595cac63ec9e824562f079c1b8b3a3d9611e5c6ad50dce375bae645566605f529f3437be1325512cf59faf29412dd9028d63af59896207dd180c8ffc8dd63fb240f3499cdef3d1dde0eb7133df4478706470f983d65626fc2cc9c3ee8b3fa4ba1d61b3c9a9da81866c529b4947b352966d26433d05144edb5afb7ec9520c4552f304a0e693da5cfe7c49b493976424fe7b9ac81744b862ad04898177fe31faabf2eb7ef2ea51d3799ac265afaee051355ca651c316e04edab595a0f46881d20c703d787906d44570a19fb2cd656edd5e59d456b9d69657391c564a441f5eee63482a5f9e8923b452ef4176851248b22b7dc3f19150da610c023054c7dc55d2fab151cd41cdd83436bf522e158d4ab06d76731323c25300bc0277782fa1393e43707d584d38dbeb69ef430890597e7050d2052e34f20a54550ae710168b6671819659d05b061e92e3926da941b3ae2b2e3940bb503caa0caa626b90ee0e91a61560cf6718e58d7734322a4ebaac95b9dfb16f8ce4579efbfc1d7174411d1ccdd0d4472e3a991e56eefea69376c41502b0e5dfecc336b51da4867c5bf5d4a1edf8430859282ee5e0c0eb6c4fb69454c5c1a8319c9c847b5c5babbac962b9de244da4a90c7ccb5cf7b97fd5555539636500c28da7cb6e9e7f39ed42d2e49170bf75115f17587d44221a3ce3c03c161675ef1058c655dfde6031a814b42934e090e90ff9840315f665daa6141e9230141054f2f066193667acc18eb0d731e3bd78c434b528bfc5ba41a32c272df6a54158c96ca42e9b35032df10c77cd6ba77abc1eccc2501d8344de9dc8902ddd7d8111a4f71be8f866a53002288d5a663a8e8e745d52350a4faa16fd8c58e3cd0a830a9828bbad60106dfbce48e8de90ab5b34578b267c14be3ff6b8c1b50872ffdb3f4f869c894f3a94bd2df9c06840b63c35ef042ec6fde98553e8ec99f7ddd988cc6a7951b410f6f36cd4e5c13f8a374d177e176063a21c50452ba75857615361d81b484c037efd701f7b682e26ef96994918dd3c311edcb04350754cb9c27800870f978744d30ac273c048b8d8976fc5d4000b1cb870110c92338b6035ec558cfcb6e87e376ccc4d929d890b31330de4e209ac7fcfee3b672f81ac6f2d59ec2aae2567c74aa14780c0282b42b06e074d5e2d1737e57dd0b8106b0241fa82b83126138028a533b0a40a7c4560cc10cf6c32242efdfdfb53c0291f387d7aac71114fb2bbdd7c0da0043e02dfe438476ef7e514f73ee716c651209a8137d5667b704b4b5303b6d6e39556d271723158f4a98543173fd5f07e8666a9eb66cbba3bb17e58195fcbe6ebbe78d091d340984bd65fd477176531c94abcc9863d6268e916a93da407fc46cb3b3db68411b61a6159d3c61a0440109cf977f09e56db779b4a027dbb52fafad1ee3f38ea8970c2e6c842a2b6a7efa5f9e58a0cd9ba9ead3c25900e02691f29cf064340731ef043b0c4d56ff1bc71455216e5f0d257acf336a26196a6a1053352c9085dab7911f1fe83cc33780e105566088612d7698b795c9fd89ba156ec03059a00d50861bf08c8a891173d99aee7406d2f38ecef6013c06cd4b8dead69c413c16e60c75d90a023c1d00c9af4c58ab41f225e82c340a4259d9c6e734a6d4c40e3bc7eabc49a3dde63830fc48b083957a90155d897009f397141ac1465d559e65647dc514b9ab18ea2340257e2bb36fa6f109b67bb5d4febdaaa2cd2084a460f77fe51b0dbee9431dd36f1f2d30162b51df21bd1ec3866a397c9af795d3ad0e3f5f4e170085b72e29c06111e8649cc1761f0cc317f39a0a382bbd288b2711a9951f0158566a49533e4adf07c4c0c166223ce7f5fefc75d870b655bd2c22e3b0481246b391f9256d0bc666fc5cfee11cddc41d58343e4992665bc29810970902821d60917ba5a132c57a119409ec1b71960ab51246f597df43a9b799b9d82142d0025616f69b517374429aa97c868af8f849694ff6a2d626a34e1bcaf35279cb52a8f75a94873e4b62c6a053d1516a9403765455385c49651674e9cd5eac6097723f33dcc216629bd172a43a1539b821a7e5a103a9180e367e5a6c5cd4488b7c168472753ccf646a03a2d1c99b63958337920e48e7e70e763822315d85c04feccc315a010eb5ddab5ad78fd7ddf9c3ec17bc87e0aeeaf9ec7a8ba765325114e403f2224edae4a095ccb70297451bb4c45b348a268e0478c3c0108350344ccfd660e365cbdb43286f1fd33c22892fca1eb2912dd6d1adb2d1ea55f497eafab5854c0d27e17263e0d1e14b19cd3cf67e3b069449d5d17585e6e5404b62d5616c845197fc381d3f76411e1e6e333c081b012ed7f732945fb54bb44b04b14b4e53dfdfac2b03cb35c386d4b25fd5fa9fde799fdc8d31863922dd06a1b62812cdda4da44a51cae5ba16c95689142a71c546d78867b1639fa36488e1866f5a335236ae2480a8e6c80903a0138e0efc5c686d43fc61faf5f6d24194185da09814251b1352f2bc238f4c49ed06bc85fa324f6faedc35eccc7e2ae1d375489a77cd42a64f542820658012a788e814b4539e2b4bd3f5f5d0c8708bae8d94f04459805077b92980232440920403a07b946862528e4ef703c836e0865901ef7f63f6ccd609b21c2e004856722f51139fa0113e998619a98aa4c2fb33bdc21c8a302ca6784a7baa2f2be3e54c8eb31ede65bb832d7e1ab2ebb4bd7089a4721810e56d7eeb6ecab117b27be438d1f790b56db069346765238fc02b8a127c9b23aa8ada1981386a002a80e50f574da598dab3c485e9127dfee4979e424a1271c140d26440b1cad3b167a4304a3c524d67d813e964573ac4203c9e7afbf9523766fa31a6b87ac6308b0c900a075f684a5cd835e774dc645e3f1ed88b51f4691ca1de39c789f4fe19dc9c7918315ce700deb78dfed34203110f71bb8c8aefb851c8175ab2b3b0b889e83236f5c4058caa56edba9f151de7cebd30c02cc24e23e4b990aba951c0ab76d07ad868b1036b6f9e3eb8881e3fb43461c130f174c3fdc5d0e9a7aa37b6ea1b125f45202c1b7957ed55e8c997fc05f52b92598039fd4dff1dc7c7fd0862a591b018693b5f47d554660de6b43be3d658b2e7d7ccb4ac56d42051eabe12ff645056a8c63217304e7c295cd9b6d79d3cf1a0232afbf9211c2ce6a4adcdc5bf0b8fb6f194a0035cc624d0262b1d8993d353261d31904ebee3a067c17d2ec8024e6ceeb4e266de689b53d47e318ef9596444ca00812a1450c582842790459d76639b9f5ff6b26ff3709c8cb8a05b49a50690a576832411aeac5d3152c720d75e6189c32ba987a2eccc7df0b7a9fa8c84f6ba53a40d5b911b70a89d99d4ab26396cc6656476bffadd1389be82407bcfc17843dfb004b38e9188caa72c092b7f7486f632cb78c1842e0f9faa0f70df8eaeddb738ccb93c36773839bcac696f2842c9d77f31efb211dd6fc082204faf54e78f35815390bd4f5314e54112ee850fc5769ff7a4406612f8b0920452f01d1701105151ef40d01698327746b3fcec27d8e0cf3fdfda6de6e12d0f9a17a94a74b0410a4b2806e90f2222d5fbab68def6bdd2bd9b4e580faf7d260372342099b8a639ec434f46ced5094ecaf12fa1ca1ae39e16d6fd6d9ef5ff1bc7e4206b92965944fd487f6420e13687ed42c87239f64fa7de421e0761579bb469485b1e86c3d22f983b2cc7b50bcee274e8095aa0c667b752a49f3ed62ec24d37d6b5bb2a8c8b62531ee1b9e85991457d6ae56e156c48f85ef7b700351d2118f05f1909c25e72378675067217128ad243fd7ff14f5e29c7586e1e1d15361ccb4e92cf2bcb995aa05eeadf52c0af2c6e8f92f88653d2dff39609d70f0fdb7cf22ce91ae5581ed454085ac3e153862c9ee397e5020a108f7f7093f03fe1ec0f1c9a94837fb7c77f48b4dba93c54db21f9d536e6b2841c8c89111d73084d5eeb350871795029da0ac19f4b28bfd41b2f7d32364319f93120224b0fe740fd710bdb87f51330ed0b679b164e4a7cc8ac20ee84860331179871b1aa77d89bc012472d44753bb561d20253c0fa4b2083f3262dcca7cbe53c34464c1372693787849bb5b7ef319e44e102bee0651b47e730bfe9c40bc11a5318422d21c8f4bac5cb822475a285d409fbc64b47661f71d521540c7a9fb6406acc3e987efa397fed7826a845bf18312adaf064cbb63915fab1beb510c68955d4ddd87bf989d3dd36a80ae8faf6e1ef4ca4ac74e0114f8c4c0e5935ba68b9ef583429f1cb6adbbdaa067c86559153f5ffd928d903c49ed31d50f21ade2b7b95d437472fa97de3fa4ab385fd0db158273e8f4dd553a4bbc8fd4215683983950908805aa10dab9578221641d7f69fdc09ce0375cc4c9044efcc9c384637e5c1df996e240b32e0f9ceccc731e87566e5cfc126db304cd1913cb769f1d282441cc8354017dcef89dc21b45eb34934bb4a7c948dce393f2ef7600846a8e81692f1ed8103bfb6ac40533820428dfebf1142ece25db3b738a117674483f88d5263287761983d5154ab769de4c12b0281c3cd45d8cbe02ca1c5998bf0302e466d3e46d0ed720c83432d67335d754802d6fc30bcdd4795f12a9458afec7b24ffccc47b91940c58d6f707fbdf44ef3d86f6887af33ce8413c164a54a3ef1bbe21e3e10c5ae7fb0719e3dcae9c36a56f4601d1935ed320ebd149215f8ae23554132d0c605e62cc1b6ef5ceeed275fd59a86188daef7d1e64b158bd062533d11e2a78e6a4091cc51376b642d29510d24606da5f4c7392481d6cce1e477ccf9dae5c89face40c242dd15183c18b43195e59388cc0548e98ae643a3ba9393cf387fde73444e29032fa3943b700989d5a223dbec2edc94a7cf8d1dc5960f87e62849dbf6a1a212fc722c34fdf83165494976fd85317aef8d3a92f94d8e5967d3cbadeb88e5d77ee000e8827a5e6d5f5cf2949f1a3426b3b2236cee0207da9a9ef657725d0065356302f57a021577477a2c3b804e81cfe89f9354a4a5705b37c141994c53881517b61476a1934d3c233c0db3ba168b893a52b881d736f164352b2fe66716215585fc97148c388ed3b1b424269a10f40a8f1d81f272f6ea59781ea0f3922b1e8c4a9ababae9a7f54e2fd273418175b2071febbbe3ecbd61f7d705ae060a5a8268c14d1a6f02fe4a402017b69ce77b4ba6b7ebc1f7d74a5c5c21118467459d97a0d96fac1634ec485dfc58cd43c702552bea52b4b4d14496251c1b26e4a71ad9f51aef7dec76cec088c4b5d683df200e1462f443c17986c5c962e9e6928e31471d1163b0c4f15179d33447e27f4f6702e63ef34176aaf692008140e88b3e11784cb62bfae15f8f933e01097e5ff572eb026c8b2d1377f157f185b9a1dcf7bb7b9a1df900e8fb7ea7e12c56873f8f97ede1570a4ad8588030080c0a41bebcb9bf7b035d68008d324c27fede3526c04eac1b6ad7729fc737760889f6e55d2754f2c5ced3bb9bdb49b181015af01ddc4fc41583b21ee194a2583fc0b88fb866e7a2c0337efc1a401c400a1446fad9f13be444c3af00b20d62e7744244be24546dae4c14594e53a31c6ec4d6a62cb8926a7fd7ed017400c1867e8d77cf42abe3df728f559869416761dcc563cf921259ee72ebfb72b7558ab4a79e0a1a9fe2106acb2bacbc4dae9ea0595336942b60fac4192197328b1d419c3d7a8cdc15f827b6a718593eb5a575d5832686d615c5dc7b6cfa573d15b1b16f891871e0641e319e39090c794c083cea8a746b9605fcbc03bbeeb3644faadad7398ed3b48b16e5b9fce303e524a193ee60388fa5453cfacedaac4687dd965f741acd04d08fec474bed779b8e042fa02664e80ef9ba0491919ac3d62dcd0a095dde70985dbea951ef7a2326492e537b1f1b36dbd6e9b61e62c6f2a208613dc10b1784878377a87cbcb216c75f5474321619b03beac07347019364211104e8189b7cdf21a48fe358e2911adbfcb26da849c4f13a677ff356982d06fe3502a369e51fe75a88fc82aa2eea30dd027029e6b4bb133df704a1b03b1d976e7328c9c9a7ae63de5330917d44f272f94ca45e0bfaad6cece2ec9cc75988af5d305593a1ce86b4976cdd10632adacb62645100be41a823dbaf94fb8cef02f8c4ab8f4656bd318d602ed95a65b9ac6bc26c09f159c9eb16fb8ecc79c62c432a60f99499e9ef4572d0cccfedb0c95d9910b599204e89b4c91f281543c07d893b9cbf84bdd564c0bef271cc0d1c3f6cef5e725516436c2ad0789902d4d7747a08504950a73661fa175866526f6e7163452b75885d2e9c28e765ee5330b7402a53a23c4b9f982a9716e0b24e1dc5aa2ce758234608f612734c743c5d8b5e42f2f75c841ed79c441e1fd8e02861c31bc599fe5cf9f6f1d0ba96c44f9e2d1240f7264aee644701d56d88e553462575f4561c6681766ec3c984108a7b50f5d56cf9ca9e6ad0bf115eed6f8301481413b37bf79bb1fbabf9c93cfe9952d866872cbe56a416a97b1aa4f648d1ef90012d81399697ac3e5d9f787ec4ccfe8b98e96a7c91237304d7266cb2d23cf4fc3d038f9451ab0cc6cb3491eff51892d9bd9d2757c395f585612f6b1b5271c36e26958853681f63518c7e93d753c8368011689411c822f33f41b86935a862fe726419648cc937d7327ffc811f88c07b16335583d5fa5caebe6401ee01d442e9adc4def06478c6969a0fe48836eaf8df8bdd1a9fd9daf082f13133b47ea2d437e7bb6a6a3aeb52c5a331d87da00627c92efb1ac7bcbe2748b8a5f4b8292c47365370a0dc421957184fe9bf261abd52719deb15a21aebf8b61da2a35e528ba035fc05258b83246b69b16938502349aa06c0ab5618eb031140c2a0a922a8ff4740aa47a2e1718c243fa5524c7888d973431e26ba06621276ffc61f184e8b9a19aff01e7f9208fd811be9351a57e68d8de6de328fc029e67e2c4d2acb9c54a26ae0d0fb27ce4687ba916ee2d1162f0bd75fb204f1f1c5abc3d9c592ce5e94dba9612588c4edda43c552868f4f13d5dfac69562d7113794f24f11c2c7a0771b42695e5655ac57d085e8ab78923c4e406900120f31fa1e28dcd86dad31961fe35a3860e76f51acecfe7a7be2fab56b82681ee9b2e706c84a0846ccfd22c44b7b1ecd33e6c4ebd4a16df383ee2468fd5a07dc1e64fb2790ace07c0efa4b52a1fccbd6cd7e7e983b5c558b4bcfde28ad159e68c792278e8ada92e163e04cc251061106d41077d879f96fdf295ba253dde7e87fd7de2e58d6252912dd17ec7c480de72c094e54898d9db67fd1b8b03954b25d87948af46ccb7eb1ec46362a7210fec098985ca3ff45ef88604c78aada1f8e9a2318b580ad95e205b9734ad84f2a6fd208d3ba3067c1726bb7e4391c01068211470b2023b909fba6bbd80bf7822997803956960c128778af4abf0e049bb96682f6808817a41a53ce4785bed637598b1d4bc7fb3f2d62842f47746dffffe135c89319db24e512a1b119895d4c15b0a1a781e4686547f46e808a4ad6216281d399494f7f0a4ba470b7775f197856455da78c33ac0466386947b809ad9453734a99dcd65521c689e77c7b841a832f9481920b921d347dd6e4573dd6b16be141a846dc548cafbe89f1e4956d1f9e0f8a1bd7178e049ff9b7b3f8808b2dc31349eb71adf1dd5a6683290d35085a4bd0fa6b380e3f7282ebc3ea9c00c90d67418361823fb4645ccd01faf8abbd6f9dd09368d13d42993ad615907da97241df9174bf64a077a4a7911c491febae2cba73ec9b4c0ee8216bcca146f72d3baec9a8d4211b557d4dbdfb3f587d162d91f58bc5a640e1c39817033c580b4f0ad21cfd9ab605f3311bd60d95e5c05746e95f7d57a6dd9d9bc45e94cefdef2e429b2606d10daa0269d554ec2735283891f4598401c5d43582891c79dd622008670b8e7344afc29ef8bf64658f67bcf8e300e09a6acd996103847a0257d1acd4a74c6ee98f5ae0f267d9e1a3cefea0f651d5ba8f076514641ad08c4b1dc4d5254bbf08dd15f625e93690a5549f8848afe2967f8e4d1fb334d3847cc7a8ef96e50c5385575152009e33986b64ce606ba9a7014da02c76804d82713735573747e4c7be525a22da92467f8d7f2799b7269cd30d87efa092133cb2e5b8a05e01785eadcf026284fa661c0316644288f2c7bb3c9bbeddcc6b491bb8d8af52b0d21fe1313e9aab36bfcdd6f32a7d2fce31871a3e9fb66279d13d82f6b7517015f00e94ef66b4713f9930870253cb047d9db248627a70d254553440f4eb8fbc7aecc15b8e48df99e39645e679e7ac8451bbc98d06c00621e312b8f805a5e0947dc1923cdc8bd4bab40b9be84927982e86ba421ec47f58ff083d528f26de37fed0ea48bbe98ffa326d31ef52bc976c692c0682b2bad6fa8ac06bf11496b34b6f19b0bae8dd088128f2124637fa4ddc285a8caba6bb1c5a3b5663334d067b5349ec83fdd0f881609fc25e441790fdf43b62f63ac62541d84d1300ea228077597cd6529b4a94b600ae2bf645b42da99722319a2f3c767ab1f46ec99ea69cbef9e47b8174515bd2e5fd039087c065798349b0074a8ff83c9e69bdaecf0ca5590df092c04863f78e71cffd29f94985e2cb12a03eeca762393eeb57e724f802e51f787e2e9028f384e8e4c102e70c50dff34dc845161d5dd83dd35edc6415ce91f2eb0b1a3b9e3835ef6151f8612991b1f5f0409f7ffd3fcdf3dcfd3bb4dd91877519a1277f28258bb4289572bacd6eabee72139c5ff9b55eefc184204cba3bb391b1d28c768ec4abff320beb9fb34f1af9953d42a19205183042706dc0625d5e9bdaf3049decb6a177e8124fd9b66f612884b392306609fdf1aaf35f42f240159419f800c492d353ff95972df9f23c984f0ffe79ac261f500046706e09e128aad136e81fe28b57fb305855ec42ae920a6e17c60e313b0523bffb7b8d466eb16a3bfee4f83b600644807125f681100de399626f1b7eb91d7eea7be8d84b6149798c27a998ac78a80f36f2bf8f49b97eb2ba1edaf53a497e18a5c6aece3216534dea1d32aa7324a37c51740b91f2ba0bc9474d99eaf551f5c67de41b04493c7092c2f0fe388bf6a8062a6369d5edc122d2fde257839348839216bea6092e032cc243e7dadca1f44a9f529f2c42e18194bf195b6c1b23a097f0402403b379eb86b7a5d0be34e3036e6e80fb834246c86ed8ecddde9bc67d15cbff6e785a51d8d5425314261cdc17be83512df30a74bece8468fd04618bcffb56bce802c02d5b3cf3c7002311759bc0b3f6094346b9a5baa68b024e8064a6684285a651a2a88f76e6fbd07e10ff2d7da174f5e63b83b65b2fa76ef0a5b8b947b2fc73be6ce6c51765ce99d8449c8ccb597d40165a16fe50176fd37bb79ac36dcfa1cfa51e0bc1bdf50e6a2d9722866f65611524b4a6029a9bf684f25b2ced025abdddb83244533655e4a63d3968bd6c67533784b60b86dff25bd8d4ac19d8b1aa204935bb1ee604b8212402d9240a13421d0b0e119faae135121d8f4845bf9ce43eca322702b2bc3926dd4659fae4b358a8d496a86fc46de567abcbd2e1039ceecd4b9c302e86df70e460be44168b785aaf6a7451d26e9c0f2cd55ccf2b6d7824361879b1c81d5b2a3d1f40cc9ae474d6dc2bd1864656c7310772305a64f3ce77b48d671dde2e55872ed316699b050a8b5f062a8f01857e8ede13cd7444b2ef027775873733130016d5c8dc09bf9adb052d46f2856cef89647d67c7fee946ce99557cf7d1466888df95aeaf588ef8d804116bc1753a5f2848990f911f8c5f1f4d3d18ef25dcc62e2c20a93606a9229288e7d5d443cae47e9ecb29e2cdc8ba2f949f328e453665a38b403febc445b2bfca58b9c91b7c31828a1991321c204589fcafa75890885bd398dfa319cc6ef526f5f8253cdb717319dc729f38a6a85550b32294a491b1c0e9e2818bc3054cc6abb8fc28fd5df4a84a5a64106356cc0a3b43d51c675fe2cb9b957e91ba10ca8627286f1c96af787a356ec5efe90ba52e482b10709e4dc46d09d9493ef70df8dc97d0d87bddda6461ae805339edf65dc2030b9c0498672cfa25a92c6293b59de0389bdfc6c07ebe011ae92603bae922c78c9d8dba3790b78ee4eef1b23cdf21d74fd8ab3b288f161f455ae1a2e52e33ff92d34f82ca1ed9681b8ab7dc879d67d4f0c63ab0f28e30bbb2cc733844fb2987a2dfa7d7a188988afb466635ed0d2573a868af53837e4c5e3db244e8eee8d43b4bb20a38d474979f828da8c96dd16cbfb117a84a54298d46177cde76debaa52dd48bfedf45a034d594c595ca69e96d2be6a549637e5df06cf16e0d30b279874540f2a90bd77b7a7b367603904770d226f2f67c19b07e03671fcf20870a823a967ee24b4bb640dee2cba3e936492a32e352fc9d424d7d79b6996ae38190f800f158f416564425b7263969f6db85f9988810ccb93f7296b01eb58a482015f38e402183ca58d8785135d7647c8a231d1d3447ea6ae0be653bbc0432e6a665ae4f1c2387b6eeb490dcd7fbb76188c02541d17a7d23724786f9027f9175224795fb2a09c5c24eff4ee246b4b894a770317512440e7e9ba9d6dfa6e144e891638a30adb325c54e7f8c3bcd7e3f9d898b7942ff31c11c8ff6fe5c243a2faf01d812ed2014d84e506c05d11dc0c8c7eb9ee91533f7aa333979e19298a170a3bf2e2de1f63452e4d80c9dd6921e663254e6b5597a2088026c345a6624a1e8aacaa02dee5e05e987aee2dc7e49d8f4f59499216b0fa978151063332458e8e54e3b95ed69ff62ca89d9c7c004e146df1aae85b8bc543db2e02a30520777d5385fa8bb62fb7d5a600767f30ace66cc3b0ad22d307db045ebd27e4e6b8411aad7fbe54e4bf6400e6eb7c60c2473826cd5ca868d92498053eba8bc0c7686bc94e0f3a32d7c3c3a443fe17b71a57a5db71d7bdecc2b3a11c356ebc5eae9aa16c556241ef3c28985d808fe29c5a2b79fd7e26633e9240329cbce4f99c2a12670965858687e648f00a5a01b5d053df1855a23c6a5bff7ed175e670a1a40bbb73906c0625639acda9ef67ec777eb4f8aa2ba4b76c5b065464aaec5f4ee771601fb331d0bb9de67d38ef78126396d1ef9f4a8800afd623b3d4b1e1cec85661528d793378772a591a57d0acd73cb4fadf09e6d6321428389d6d0165c1a42c64e082a5eee6b472b930a60a17442eec91d752debe9f7589e5a1bab9336ea8c64e41fdd2c133ab272b3ff9886a4ce14c54d1e4d89efcdbb9e76dcb3718e31e79c258b7635f2f561f1da539aee7f1f27835aba153c4b196a7f7f6056d55c288cd485ce159403694b9053ba790dbdaf9d726d585e67ea7422edc3fd0d0b5a21729b74533a4742240ee2b5e50455adf672960a36c8b6dcfa583d4576ba602e054628f460680aba67d824eb0819de07d4c3edb962be52477434a56fa2cd9b57640e1bc774959dd95ae6d8077fb93fb4bebc01fdf6f3d0cb7f2edb2bc3d7fb1a867bd1998e7dca70779e573a664d8205f035e1aa464e578b71e72dcfa6eb2c35b3c93be1f6030e0d000ae6317cce81ce98d26687c78b3782a10d54104106364ea6695d0398072ca5cd3839b9643e3b8049b6c6d120093376c0726c22d9add387bd791baabfd9d1e2654755652a1972ddd2d6c493c683cf10f8ab1d5897352ad1fbdeba1bd808a182a4a64381d1c59079e1ca708b2f4cebc75dc753e60a4a8e43bb4c41ec37f493d297e0c2913e49dc059ee2fb8797471d2f6fe2428a60ef4aa1f62ce9687aeda2ba0c29c9f89b1bf41e0df191afe0da094ccea3c978c06008b633c2b1ba7f1eaf46ae3ac8208a58c69e5d095b389973d57c71e9c86a2f11a0facd7b46b06c80041df86d49440f218d6aecac939fb035782a52efc45b94a8703ccb12a9821ac71a300efb476edb695e257db2eebc7dda91b4eab59f9fa3c4025291163fbe28c9f7ccb61494bb18771a71a56a5ce9d9598daae104e1f5fa5bb56cb84013f60969059bc69194284ab98021b1cfd4bb035434cd8cbabaf1daf2a6202005fea58a5ef790e7502fefb83bbc37862eb88e86eb67886e0ef8b53249616fc5571f4054efe5daa9bb99432bbaf5600a4f8c9a975a0c6da214e1d828e1a71139a2a14823780e91f8356c988671a8a814e35a57e0fe2525a124ab4713f10c1879e22d69d681d5149215b1ea1cff678cd627ada423aae596221b2796eff9b3cc11ed53777309e49006b80a0f02a35f40e07acfdae18f355497d7e200155410e61e90a3ca0ea4e35c9fcf250d36443df4a6d7cb755bdce5e9a7baa3a54907c2b904a3f3d5dbf267746d4bdc8de1622224ab0759069dc7c744a0c725461865bec8bb1c576839a52bb49d3b56f5de7b24d698b3c55a392d0a5fd312a168f629d9f0c9cf635cc0f39dc84c565b42691c42a880eba7509306e55914a565e07987e81393a2ea435c77a2e8f1a8f16713e7a4729d7075e4568be93114f221080deea8945c86c6009cdc34a4cf3676a294dcc56952d75e7c8b46ddc3d9a33e7c1d9999a5710bda76ba66593ebc70aeca7105a856be423a7ea7871b14c1c9d33fecb4fab5e59bfe67e7a2c56e4990c50d5a24083b062b969881a57c53c5c3b37cce170a508700e51068335618ce41420d3d410fe45cf61ae4027283a5b8aa36088ca17410a78e530f10fe9d93e4977a25d519311acb7399aa3ba7ced7f90403b6bbdb281339d66ac5ad6a59605ff5c34bff519a21f1b4bdafc79193c6412a305de1195a0a44b654f1dad16b1e937e0968eae6158ce35b3c8ac5a8e8417b4fe411c1a62492a45dd9e936252d34bf4261a65e975615b26dbde25736beaaf5feb9dfe0f3335b887fbfe79f36da50c52b68a42d2977c805791aa85d0dbf759910ee3b5197cffb77eb1360f69d80c7a4f8c78c57774a1a89db7db2b5498d6ccbef7406fe3f542d4f4e88c964617bb214aad38e19ce793dff59afc648cb6519bc6dabcd391305a0164fea260219823d7d3535c6a0744346a26b47af27f9559f02942f0f4a528b2117eef23421aac80628a2c7085bf20ad378dcf458f75778e7311cc076140c9b2b37ce232e701510816d0772a7d9714287a759bfefbe78f79f83995946a2690060a5d2a00bfb939251765a23ed87746a2390508c72f9be5f3458a7edcba12de7a6e91c3a0d42723f051da4ba53c8a5a33f484deb06ab496d1e0f07b06e0d01580d98f4392dc8e31392835c457f8be112bf9c8fbcceab6e2b4088931be4fd2cf1a9f3572bf8cbee764a7d93d33d0007393e1dd2c8ffcd331e640655c939532916bdf3f99536d09efbafaf20fda76177f1141bf4a3ff1e1e18434b48e36cdeb8eff0003439baec15664e314f571eeead38c8a4cd934db7721da2626d73a358223aa511c69399277b5cc6f8af9595e6f483ff5e0e50d398075277c9c67dd40c1cf0f10dd736f2d0e20e980e07956dd656f1d67ac71919af2f384eeef90ae6ea23af9bcf84b2410b9f365367469dbc3002b51ab10d69c98bb74e089d6a9c8fb007792a6beba65feceae6afecb6b862a0dae313a44052db9d35b737aeac4c25144c4cdb40d53f861d4bf99720fd3c1a34808bf8813f20214d15cbda11fe53f3f5e0aeb1a6eca184f6edd9a0ab78e4080bf0212f0332cb297e32b232827324579584e17ba8ab09384a6ba86390713ba6087a7b8d15b5c018a36a81723c0ff11addf0a6fc3261437d3a4cc706faeb83bb9d165ec9902a65951849c82f0045aefe7e9a890a6d191be4fc78261001269c2e5a181370b67ebcb448856b3a1f876c24d530689dfdc0ccb60ef0fdd0b0bb69a31539dd58c06899d31b81f0cfd8ff9a533f46e23ad467725d35cd6abcea7d91c94d8dd44c0dfdcea5303dd37228ef487a4b92e43181296a286f72ebb1498ea543764d9d4bbe4251c950cc20eddb2691181175a5e08ac83327c4c3831f48d48e60598ace3ca0582fb88a813ed9d4b727bcabdade367cf4d3ec6bcbb2b4e25d1304e1804fab551b2e7c41bfe93b73e9e6891fcd3aba13d518b3253e77b3d65409d1e0b58d7a76f780a40447c0a00ee7390bd18d7f5a0c437793c863158feadd52949d3578c501c11d89a3e6847fb01360ff5a5ccc1eccea84fdfb7038bb4e8ca81c9df008b0a2855003fd4efd202f75cb8026f78816b37881a34048a10ee8dc3e619d31bbb6223f8a9d3fcd1e3b3f8484bab71ae1083b5ae7533ee4456aefb7024b498a382c2f9a96609aa0fcc02125535f29f761f0a1264b40535b2cbfaaa6fd3c9d1107da95a9e1967d67dca0b92a0b141b10fb7488eb7502b6641698192aedc1f5174b18f6bc02ed3f5043c81c714c8544698089c8409aa257d6be61a431805722a7cef40fd009f76923f69a99a5e1d3529db10fe320937b9551e78292fedceb7301c0844192e47ae5b647c3fe655a8b4be1f0071bb9540b70325aedd64cd64fccea5c5cc58facf1056f6467fcd151a5c25468c12f34e61cab6e9bc971c6d1fb86825886e4e4b7014ded40ab231d6fa7e305f9b17bde77477f2562caba9771c0ae3415ef2444975a9f2b2e325474e2abae4eeb2d42d31c0fb449854fc0d78ef841e250a3eaf58c112fc3f2a4270c2d8d589e69fd6a4ced8751d75e545ffcfce76acc85d09e9fc92e02791f83d1531e4e951a5b68ecebc5f1a6085363715c4031fcfbba228e602ec673f0373b8c8bbb4c5bcc9ecff17284c258591f544d220107f7dcf54da7e142473f5744cdbf9eb911d3da078629c10c6332483e5ff5dba916fa6e5d6a814febbdf2af58b0732266adf2eedbebd4f25af1c80a2993730866fbd6cf02c6a549976888b09e17acff175413641f6a9efd74acf01b2368d46133182d2e84500e0ce8df5db46b77b7211c85ab2b284e7baa2860f98c91a084c97b2bdf7e30df17681aedde1e543448c63dfe0733632740435f223c6195dc61bc540a7fee2e4cc22f831d172a90afe595bb47e5215db024d55eb95716a99e5a21f3aa5c8b8e8bdce1244b5e5e48696d9fac1827ee8845638bee18a8c8da43b6b43a8c2b12d70c13242c7e033b4757ffc55947be96a9d4aefff9387c79fd22c357c460e09eb73c8a47f1b132f73fe323d5464a7542d1deedf547df4d1abde8525d15658c46ac5fd3d579362efa9bf27e4ce020acb61efc0c90885e1d21923e41aa4a249ea2d558d56c681e0a894e93c2cc91a8e7c0bbc7c3000b85243158179cf9bf232581844aa2f6d06c8700238a3432bf82d57e4ec997cdfd476ccfcf54c8e1c855f708086f83039b10be6cf3ea55757313482775e507a04f705e9425481ec6c379e8f685d6d34015121a309da5738627ce26b683ea355caa822dfd3105baff39752a43f1777db10bf0bb7eb80beb9d599b3b9fc06e9a78bc63a6049ed2541d2cfa209a1dca1edf2afff7b6a5b42ffde4e4fc567a19a32ada2f2dacbbb1259aa24b85f63c5520c85bb360073e6ba9d0aae4777ccb0a8db290018c534be199a0f77e2dd1e7cf87de00e3a043513d5fd64f7a418a53ca875c695babaa570d059f8a7e86dd8fcc6d18498c3dd0dd6bb4880103e6526b5f64654e528f13ae1546328d1e197e7f7f04f634d6780f90a06adf81e0bb437b2e26e2bd6b516a49592f862494b555fd0f7462553c546b76c72da57020d5542ecf0dd081f5312adea5d3eb051a86f9f88b502c648f51902d0317d8f50080b865de7505fa299d2aac681fd657da1be72aa0197a28230773403fcef5b118ec08414fe704c18ca8ece65e721fbbf30207d1e7154d687d12721ca81e9c1d5ebab43283c9f44d9d1dd36701e5902b305eaca62bbdd19e9196e674be943011933c6b456a8f0cab1b17e3a3023afffd9a908da95cad26918d0fa0082e15edb09375301d8a822eede379629fe20e9e74d5b38fa6e7878d457df209169c9e1bb83abc4ad85f790407fbc553ce70807fd7316f88670baff4538d833c9a353a9c3b9ecf0a02585ae4de2892cc1d2c291779ccd7b1abbf893a3cefb620d1d12f98c752aee74e7178ae32931ac6bc5c74cf311a045d9cac17db7b2df700a9f035423e92decda5f0ef71c89f7ef431bfe1cd72a8e2b9dfc1d6aa5213e4019c3145044afe3498bee73685cb52a67365809aa696988e63f0fa6bef4f65922a48f2bfdd4bd91cbacb500e0238f542d54b7bd95c356d9f17db26c62da2229aef8db659ae7979338fc83d042806bd8106a352a010f7aa6869c8ab665b1ab14c10ae37cf48fd323a6731a41e0eb4e76dc24021ab7e208b061ac6d7efe896baec279f3ad5b6c45dfd795aa21b85b89b2479c91ddeb81a944a63281e43d8501d60cbbc82ab996ff7d88cc7d03d5c630267ba93681b94756a03e47e8fa344b3443bd5e489a534e66dcb51e7d05d59ff288a9865651d1ece3976359d375635def04093cd291de6d3021ba36f66d90998cc482931c0d9bdcd1d87d0b105051cf0a06ceb8485656b4a5e4364b538388179b25da8e73397af2a8d0473bd05155e9de145a7bf9a85faf60a7b44442e4aa254e6b16437568484a1ba3afecc1b20573e6935cd4115ccf73106d72c84420b10c9e5bd149c137ee3b1fa362bc3be9fbd5f9bfe5c2ce529030e6a481f5e790827f9aaa14fb42d2dacee676ff5e0054304b27b6a51832b510e47d7567e9177af278baf075172651cbadfd818374d28eb8425839e562eb473a70303b1a23a629ee5d10115c655bf43a74f8ccd790e2b3c2a2319aa560de5cf94cfd04207ef40397fb746f66d484865232efd310b84406da66da36ce33a6355f34cbf922ea4415c2f2673f40661bf99209992c89afe12804aa5ded99a8ce0d0e60f3c064dca6e6b94c98eb154d470bd7a45fb504b1110dfb1e81af2270f511e2e0289fe2f2b74ee1aade89a65cd1158e3c4c88bd38f223aa6647fbaf795855c55bdb344ffca5022215a61b1bbfdbcdf64af2d528c1c8a75d9f5083bd6ee926fef8c14d074fb8c90cec90d1307248543d823c5b1d0b948dead9bc9e4d9b3c39bcff75b8b58ab6ee49b1e9ba4754332e28d20613ceb640b495bcc58d847ef20928303d831e60802aa2cac51b3bb38dd5654b290c2e8a35c4eeba9780fa9ae5f0964feb7372ed704400c57c68dc38263ae3b8414f32dbbc328ceee279e2aeb60b77f700af23c4f51339f5ab1a243ddb076260abba4b2edfc1baa0384e6bcb4df98584eb9ff360e44b0a36077bc1ea1bfd70cd5d0c7ca65171f1e937fd5879f3833d793b20172da81230f5198019153ce6dd8b524b24e14dfa836382b4e0acc20a8c4f89a7a42efeb80c99828217a9ff4dd7f8a7a711f49f7a15e0495cecdf947670e818edc216896fa66e3f6785b4594255d0812d1fc79b43180eaa22a74b0450e1f5c93e396181597bd2f4dfd82d82afd3fbb5088dc5c1fce69699a4225b77ad99b3e3772ac2f349a401f18e4e433a778d6126c0f550fdac00194c742143599126cc59619861d323dc750f1c853639305edcf30966ab572b1a86ed01ce5396b63d6cf0576122402eb57db0e4be26fdc57aaefc49491e9cff43d1a6cd707d530d19a7f431b55bb638992ecb4abdcc4fe49fa1b48ac18c95e9deac1bc6d8c5de19ee08178946f609049b190a85eaa45168a81c7ff2b3fda47b9754ac3972b16da9213b5a6625be157f538d475013543a455f17b96957b7321d087f3da30ce24947fb694ede23928d786cf702ab75715847d876f99fa2c3754bf4fe51ff2e16e7cb68065e86b53a8ee3f704c8442867994e9e18546b87d01178fa9013496102628bc78636894b273174c5530c2ba95381bf2cc7b7f4dfba1715d4f6e36d0268b0bd04fe36ee44e6a3374a96eb2ef87d054b1d105de419cad102e657ca5857a646be0260227bbe0b87ec9c7cf99222b2e86c816fae21b0134d60c1f09b20e647cece7e075dcf156dde9def214bf751324e1606bb802beeebda63f7ccd04c26adcf7d4c003140510f071c3b05e0ef03de2af8f1c2e4027a47123c1f0f0892a08d7dc1e686703f3f8ba79840a9b5ad441c5710f367eec90b8c333592edd4d622a3496c27b9db4e5cb40930ed889b63ae3558a448b0081b674a3680f662fbc5a74e569cf126c1c36776d21f8f5093ebe03bcd92fcffdb8307a954349db80cb5d02f667faec3ce035f74a7449883589c3da57b142a21e34c970b117a90c7fcfd6e9616f963dbd27876801b0e27d3c69d28f1dc3966a5ce9ce0ff0b63c4cc01d0c2c96f5d36f9a440c1cdcdc83ad578e968bb355a2f6afd02131d5a33c2927fcec8a0e85df1bcbe71d966a316d80f44e5fdf271e0005e275f3921d834e0fba02363cf0af59e829e6f58cc5960845d5d00c2efc3faf2bb02344d908901340e39ba23a67d16bf471b48bbc4a6ad8fe398d01e021bd758e4e98284717eb9ae45a93703a80c31e7a2586cf0feb3025ddb9523334d46638c38c101233f22acd174b85f12aa3a12a2269e214e697474173c831c3e9a8b5c697652eacc2e870523c7591a7311432a2fb74850189cb177f4f6d529caa7d858b0a2893598a4693d559d50b674941a415dcddcc3d2e72f3583b50e6dadfde14edc7125124ff9c6cb6ff7ec63cd62139a6063c69dbdaaae32689e3fc5bb4cfbaaa3f689a9a5c6e5dd07faa53e3a8c1efc6939495cb2a8d89e658477a055b07c596da7e8ae73c208d4f80aa0fe3ecf6b9218d3d9cf2f633f3e8e67d6eb9d41e9b03775c56e2dc44a9f425207df663dcaac8272cb59243cad3e3cf28db56a99d72842889529ad17367ffee179d82f5210e4aec73bbd43e2db901dcc7b97e43782104aa397c3ddf6b0fba398ab87bc46b3e70ae04cb9daa89679ece16bf6ad24d480b033f1b770493d6894e953b4f301f4f96e001df5b3b3156773f7fe0bc3a9764cc6ffdda7a2ff10c856a3770a89c55b0709e807b60dba74dc3e8ccfa4b9242edafe3d47456fda3988677fd2ca970d0d20dd1cb058c6acffc90f033198097f7522e18c8f8efd7542c83df04bd65e2d08005e6221fae2d28b3a4d5203c1e7cd9d17bbd22c23e508b2fb038f37cff3ae799d324a89dcc0ceb3448dca9f6dd6510cc857a3e933c70edcc3eabc033bcb2c2b4d0bf8bd4659540c9f04ef6077c31380e7001c5b98e46ca1dc12b915ed937269fa87ebee7d5974d2cdf791e975dbd827e7adbe2e08155e1d6a5db7f6263165167af30d848d658fd259cf2a5f5a7bbec08e79ecf7349d00589affb72592711a4883910916dc587fa885e86915fdf789e448122d155dee3695e0759855c160e76cf98c440984ae2eadd30957fb4544234b348572d085f0a168a5aff7a921abe6009a46c04f6924b7b75efe3c86b0a2e5fb148037f6d1f21431232330743d475bf1c6ec19b6a67002736bebd50e6c751c396b6f7c3e01e8794970f5f1579af81b461c6fc3fe05e8dee68507ce7a20cd51755608e9a323b339b46afc82d0a2c5dabd97c5a6c3cbd7cb619cce2a1c33dab9f3abb61ba04a807413c0ddc6a830fd382b56a269c569fd04cc3b266d690d120bd756b85c5fea691bcd98de","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"752ab6882e2fea4e68f943960938f2ac"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
